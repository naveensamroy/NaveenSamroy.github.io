<!-- Score Display -->
<div class="score">
  Score: <span id="score">0</span> / <span id="wickets">0</span>
</div>

<!-- Buttons -->
<button onclick="addRun(1)">+1 Run</button>
<button onclick="addRun(4)">+4</button>
<button onclick="addRun(6)">+6</button>
<br><br>
<button onclick="openPopup('wide')">Wide</button>
<button onclick="openPopup('noball')">No Ball</button>
<button onclick="openPopup('wicket')">Wicket</button>

<!-- Popup (as it is in your code) -->
<div id="popup" class="modal">
  <div class="modal-content">
    <h2 id="popup-title"></h2>
    <input type="number" id="extraRuns" placeholder="Enter extra runs" value="1">
    <br>
    <button onclick="applyExtra()">OK</button>
    <button onclick="closePopup()">Cancel</button>
  </div>
</div>

<!-- ðŸ”¥ NEW: History Section -->
<div class="history" style="margin-top:20px; text-align:left; max-width:400px; margin-left:auto; margin-right:auto; background:#fff; padding:10px; border-radius:6px; box-shadow:0 0 4px rgba(0,0,0,0.2); max-height:250px; overflow-y:auto;">
  <h3 style="margin:0 0 10px 0;">ðŸ“œ History</h3>
  <div id="history-log"></div>
</div>

<script>
  let score = 0;
  let wickets = 0;
  let currentType = "";

  function updateDisplay() {
    document.getElementById("score").innerText = score;
    document.getElementById("wickets").innerText = wickets;
  }

  function addRun(runs) {
    score += runs;
    addHistory("+" + runs + " Run(s)");
    updateDisplay();
  }

  function openPopup(type) {
    currentType = type;
    let title = "";
    if (type === "wide") title = "Wide Ball - Add Extra Runs";
    else if (type === "noball") title = "No Ball - Add Extra Runs";
    else if (type === "wicket") title = "Wicket - Add Extra Runs";

    document.getElementById("popup-title").innerText = title;
    document.getElementById("extraRuns").value = (type === "wicket" ? 0 : 1);
    document.getElementById("popup").style.display = "flex";
  }

  function closePopup() {
    document.getElementById("popup").style.display = "none";
  }

  function applyExtra() {
    let runs = parseInt(document.getElementById("extraRuns").value) || 0;
    if (currentType === "wide") {
      score += runs;
      addHistory("Wide +" + runs + " Run(s)");
    } 
    else if (currentType === "noball") {
      score += runs;
      addHistory("No Ball +" + runs + " Run(s)");
    } 
    else if (currentType === "wicket") {
      wickets++;
      score += runs;
      addHistory("Wicket (Extra +" + runs + ")");
    }
    updateDisplay();
    closePopup();
  }

  // ðŸ”¥ NEW: History Function (Reverse Order)
  function addHistory(text) {
    let log = document.getElementById("history-log");
    let entry = document.createElement("div");
    entry.style.padding = "4px 0";
    entry.style.borderBottom = "1px solid #ddd";
    entry.innerText = text;
    log.insertBefore(entry, log.firstChild); // reverse order
  }
</script>
